import{C as N}from"./CommonHeader-a8bbfa0e.js";import{d as I,K as S,j as B,k as M,M as T,c as h,m as e,w as u,a as o,t as b,N as D,g as n,o as p,F,b as H,f as G,u as m,p as P,q as R,s as V,O as f,P as $,z as j,_ as q}from"./index-6ebd5fd7.js";const w=c=>(P("data-v-3bd3e756"),c=c(),R(),c),z={class:"good-info"},E=["src"],K={class:"good-intro"},O={class:"good-title"},A=w(()=>o("p",{class:"good-desc"},"免邮费 顺丰快递",-1)),J={class:"good-price"},Q=w(()=>o("ul",{class:"other-intro"},[o("li",null,"概述"),o("li",null,"参数"),o("li",null,"安装服务"),o("li",null,"常见问题")],-1)),U=["innerHTML"],W=I({__name:"index",setup(c){const i=S(),C=D(),g=V(),t=B({carouselList:[""],goodName:"",price:0,content:"",id:1}),x=async()=>{const{data:{resultCode:a,message:s}}=await f(1,t.id);a===200?$("添加成功！"):j(s),i.updateCart()},y=async()=>{await f(1,t.id),i.updateCart(),g.push("/cart")};return M(async()=>{const a=C.params.goodsId,{data:{data:{goodsCarouselList:s,goodsName:l,sellingPrice:_,goodsDetailContent:d,goodsId:r}}}=await T(a);t.carouselList=s,t.goodName=l,t.price=_,t.content=d,t.id=r}),(a,s)=>{const l=n("van-swipe-item"),_=n("van-swipe"),d=n("van-action-bar-icon"),r=n("van-action-bar-button"),k=n("van-action-bar");return p(),h("div",z,[e(N,{title:"商品详情"}),e(_,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:u(()=>[(p(!0),h(F,null,H(t.carouselList,(v,L)=>(p(),G(l,{key:L},{default:u(()=>[o("img",{src:a.$filters.prefix(v)},null,8,E)]),_:2},1024))),128))]),_:1}),o("div",K,[o("h1",O,b(t.goodName),1),A,o("p",J,"￥"+b(t.price),1)]),Q,o("div",{class:"good-content",innerHTML:t.content},null,8,U),e(k,null,{default:u(()=>[e(d,{icon:"chat-o",text:"客服"}),e(d,{onClick:s[0]||(s[0]=v=>m(g).push("/cart")),icon:"cart-o",text:"购物车",badge:m(i).count?m(i).count:""},null,8,["badge"]),e(r,{onClick:x,type:"warning",text:"加入购物车"}),e(r,{onClick:y,type:"danger",text:"立即购买"})]),_:1})])}}});const Z=q(W,[["__scopeId","data-v-3bd3e756"]]);export{Z as default};
