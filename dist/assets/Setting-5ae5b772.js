import{C as m}from"./CommonHeader-a8bbfa0e.js";import{g as _,m as p,a as f}from"./user-b31528a5.js";import{d as k,j as v,k as w,c as b,m as a,a as g,w as d,z as V,P as N,X as C,g as i,o as y,e as c,_ as x}from"./index-6ebd5fd7.js";const h={class:"setting"},S={class:"input-item"},T=k({__name:"Setting",setup(B){const e=v({nickName:"",introduction:"",password:""}),r=async()=>{if(e.password!==""&&e.password.length<6){V("密码长度要大于6个字符"),e.password="";return}else await p(e.nickName,e.introduction,e.password),N("保存成功！")},u=async()=>{const{data:t}=await f();t.resultCode===200&&(C(),location.href="/home")};return w(async()=>{const{data:{data:t}}=await _();e.nickName=t.nickName,e.introduction=t.introduceSign}),(t,o)=>{const s=i("van-field"),l=i("van-button");return y(),b("div",h,[a(m,{title:"账号管理"}),g("div",S,[a(s,{modelValue:e.nickName,"onUpdate:modelValue":o[0]||(o[0]=n=>e.nickName=n),label:"昵称"},null,8,["modelValue"]),a(s,{modelValue:e.introduction,"onUpdate:modelValue":o[1]||(o[1]=n=>e.introduction=n),label:"个性签名"},null,8,["modelValue"]),a(s,{modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=n=>e.password=n),label:"修改密码"},null,8,["modelValue"])]),a(l,{round:"",color:"#1baeae",class:"save-btn",block:"",onClick:r},{default:d(()=>[c("保存")]),_:1}),a(l,{round:"",color:"#1baeae",class:"save-btn",block:"",onClick:u},{default:d(()=>[c("退出登录")]),_:1})])}}});const j=x(T,[["__scopeId","data-v-de6b584d"]]);export{j as default};
