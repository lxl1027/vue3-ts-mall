import{d as k,c as r,a as e,r as T,F as f,b as x,o,e as b,f as C,w as i,t as I,g as u,_ as z,h as S,i as D,j as m,k as N,l as F,u as h,m as n,n as V,p as q,q as H,s as j,v as M}from"./index-6ebd5fd7.js";const P={class:"good-list"},R={class:"good-list-header"},J={class:"good-list-content"},K=["src"],O={class:"good-desc"},Q={class:"good-name"},W={class:"good-price"},X=k({__name:"GoodList",props:{list:null},setup(c){return(l,p)=>{const g=u("router-link");return o(),r("div",P,[e("div",R,[T(l.$slots,"title",{},()=>[b("标题没加载出来")])]),e("ul",J,[(o(!0),r(f,null,x(c.list,a=>(o(),C(g,{tag:"li",to:`/info/${a.goodsId}`,key:a.goodsId,class:"good"},{default:i(()=>[e("img",{class:"good-img",src:l.$filters.prefix(a.goodsCoverImg),alt:""},null,8,K),e("div",O,[e("h3",Q,I(a.goodsName),1),e("p",W,"￥"+I(a.sellingPrice),1)])]),_:2},1032,["to"]))),128))])])}}});const E=z(X,[["__scopeId","data-v-0c708e1a"]]),Y=()=>S.request({url:"/index-infos",method:"get"}),v=c=>(q("data-v-23ba846c"),c=c(),H(),c),Z={class:"home"},ee={class:"home-header-middle"},se=v(()=>e("span",{class:"app-name"},"新蜂商城",-1)),te=["src","alt"],oe={class:"cate-list"},ae=["src"],ne={class:"cate-name"},ce=v(()=>e("h1",{class:"list-title"},"新品上线",-1)),le=v(()=>e("h1",{class:"list-title"},"热门商品",-1)),ie=v(()=>e("h1",{class:"list-title"},"最新推荐",-1)),re=k({__name:"index",setup(c){const l=j();let p=D(!1);const g=m([]),a=m([{name:"新蜂超市",imgUrl:"https://s.yezgea02.com/1604041127880/%E8%B6%85%E5%B8%82%402x.png",categoryId:100001},{name:"新蜂服饰",imgUrl:"https://s.yezgea02.com/1604041127880/%E6%9C%8D%E9%A5%B0%402x.png",categoryId:100003},{name:"全球购",imgUrl:"https://s.yezgea02.com/1604041127880/%E5%85%A8%E7%90%83%E8%B4%AD%402x.png",categoryId:100002},{name:"新蜂生鲜",imgUrl:"https://s.yezgea02.com/1604041127880/%E7%94%9F%E9%B2%9C%402x.png",categoryId:100004},{name:"新蜂到家",imgUrl:"https://s.yezgea02.com/1604041127880/%E5%88%B0%E5%AE%B6%402x.png",categoryId:100005},{name:"充值缴费",imgUrl:"https://s.yezgea02.com/1604041127880/%E5%85%85%E5%80%BC%402x.png",categoryId:100006},{name:"9.9元拼",imgUrl:"https://s.yezgea02.com/1604041127880/9.9%402x.png",categoryId:100007},{name:"领劵",imgUrl:"https://s.yezgea02.com/1604041127880/%E9%A2%86%E5%88%B8%402x.png",categoryId:100008},{name:"省钱",imgUrl:"https://s.yezgea02.com/1604041127880/%E7%9C%81%E9%92%B1%402x.png",categoryId:100009},{name:"全部",imgUrl:"https://s.yezgea02.com/1604041127880/%E5%85%A8%E9%83%A8%402x.png",categoryId:100010}]),w=m([]),B=m([]),U=m([]),$=()=>{(document.documentElement.scrollTop||document.body.scrollTop)>100?p.value=!0:p.value=!1},L=()=>{M({message:"敬请期待！",duration:1e3})},G=async()=>{try{const{data:{data:{carousels:d,hotGoodses:t,newGoodses:_,recommendGoodses:y}}}=await Y();g.push(...d),w.push(...t),B.push(..._),U.push(...y)}catch(d){console.log("Error:",d)}};return N(()=>{window.addEventListener("scroll",$),G()}),F(()=>{window.removeEventListener("scroll",$)}),(d,t)=>{const _=u("van-icon"),y=u("van-swipe-item"),A=u("van-swipe");return o(),r("div",Z,[e("header",{class:V(["home-header",h(p)?"active":""])},[e("div",{class:"home-header-left",onClick:t[0]||(t[0]=s=>h(l).push("/cate"))},[n(_,{name:"apps-o"})]),e("div",ee,[se,n(_,{class:"search",name:"search"}),e("span",{onClick:t[1]||(t[1]=s=>h(l).push("/good-list"))},"山河无恙，人间皆安")]),e("div",{class:"home-header-right",onClick:t[2]||(t[2]=s=>h(l).push("/user"))},[n(_,{name:"manager-o"})])],2),n(A,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:i(()=>[(o(!0),r(f,null,x(g,s=>(o(),C(y,{key:s.carouselUrl},{default:i(()=>[e("img",{src:s.carouselUrl,alt:s.redirectUrl},null,8,te)]),_:2},1024))),128))]),_:1}),e("div",oe,[(o(!0),r(f,null,x(a,s=>(o(),r("div",{class:"cate",key:s.categoryId,onClick:L},[e("img",{class:"cate-img",src:s.imgUrl,alt:""},null,8,ae),e("div",ne,I(s.name),1)]))),128))]),n(E,{list:B},{title:i(()=>[ce]),_:1},8,["list"]),n(E,{list:w},{title:i(()=>[le]),_:1},8,["list"]),n(E,{list:U},{title:i(()=>[ie]),_:1},8,["list"])])}}});const _e=z(re,[["__scopeId","data-v-23ba846c"]]);export{_e as default};
